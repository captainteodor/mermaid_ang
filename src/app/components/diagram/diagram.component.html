<div class="diagram-container" [ngClass]="{'grid-bg': showGrid, 'dark-mode': darkMode}">
  <!-- Custom toolbar without Material components -->
  <div class="diagram-toolbar">
    <button class="icon-button" (click)="resetView()" title="Reset view">
      <span class="icon icon-reset"></span>
    </button>

    <button class="icon-button" (click)="zoomIn()" title="Zoom in">
      <span class="icon icon-zoom-in"></span>
    </button>

    <button class="icon-button" (click)="zoomOut()" title="Zoom out">
      <span class="icon icon-zoom-out"></span>
    </button>

    <div class="divider"></div>

    <button class="icon-button" (click)="toggleGrid()" [title]="showGrid ? 'Hide grid' : 'Show grid'">
      <span class="icon icon-grid"></span>
    </button>

    <button class="icon-button" (click)="toggleDarkMode()" [title]="darkMode ? 'Light mode' : 'Dark mode'">
      <span class="icon" [ngClass]="darkMode ? 'icon-light' : 'icon-dark'"></span>
    </button>
  </div>

  <!-- Error message if present -->
  <div *ngIf="error" class="error-message">
    <span>{{ error }}</span>
    <button class="close-button" (click)="dismissError()">&times;</button>
  </div>

  <!-- Diagram content -->
  <div #diagramContainer class="diagram-content" [class.error]="error">
    <!-- Mermaid diagram will be rendered here -->
  </div>

  <!-- Custom loader without Material spinner -->
  <div *ngIf="loading" class="loading-overlay">
    <div class="loader"></div>
  </div>
</div>
