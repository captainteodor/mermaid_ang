// Import Material theme as a baseline (remove this if you're completely dropping Angular Material)
@import '@angular/material/prebuilt-themes/indigo-pink.css';
// Import the Inter font family
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

// ============================
// VARIABLES
// ============================

:root {
  // Colors from Figma
  --primary-bg: #FFFFFF;
  --secondary-bg: #F8FAFC;
  --tertiary-bg: #F0F5F9;
  --border-color: #E1E8F1;
  --text-primary: #010618;
  --text-secondary: #60758D;
  --text-tertiary: #0D172B;
  --action-primary: #0D172B;
  --action-text: #F8FAFC;
  --error-bg: #FEF2F2;
  --error-border: #FCA5A5;
  --error-text: #B91C1C;

  // Shadows
  --shadow-sm: 0px 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0px 2px 4px rgba(0, 0, 0, 0.1);

  // Border radius
  --border-radius-sm: 4px;
  --border-radius-md: 6px;
  --border-radius-lg: 8px;
}

// ============================
// RESET & BASE STYLES
// ============================

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-primary);
  background-color: var(--secondary-bg);
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  display: flex;
  flex-direction: column;
}

// ============================
// COMMON COMPONENTS
// ============================

// Buttons
button {
  font-family: 'Inter', sans-serif;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;

  &:focus {
    outline: none;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

.icon-button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  border-radius: var(--border-radius-md);
  color: var(--text-tertiary);

  &:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }

  .icon {
    width: 16px;
    height: 16px;
  }
}

.send-button {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 8px 16px;
  gap: 6px;
  height: 40px;
  background: var(--action-primary);
  border-radius: var(--border-radius-md);
  border: none;
  transition: background-color 0.2s;

  &:hover {
    background-color: #1a2b4b;
  }

  span {
    font-weight: 500;
    font-size: 14px;
    line-height: 24px;
    color: var(--action-text);
  }

  .icon {
    width: 14px;
    height: 14px;
    color: var(--action-text);
  }
}

// Tabs
.tabs {
  display: flex;
  background-color: var(--tertiary-bg);
  border-radius: var(--border-radius-md);
  padding: 5px;

  button {
    flex: 1;
    padding: 6px 12px;
    border-radius: 2px;
    font-weight: 500;
    font-size: 14px;
    line-height: 20px;
    color: var(--text-secondary);
    display: flex;
    justify-content: center;
    align-items: center;

    &.active {
      background-color: var(--primary-bg);
      color: var(--text-primary);
      box-shadow: var(--shadow-sm);
      border-radius: var(--border-radius-sm);
    }

    &:hover:not(.active) {
      background-color: rgba(0, 0, 0, 0.03);
    }
  }
}

// Error message
.error-message {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  background-color: var(--error-bg);
  border: 1px solid var(--error-border);
  color: var(--error-text);
  border-radius: var(--border-radius-md);
  margin-bottom: 8px;

  .close-button {
    background: none;
    border: none;
    font-size: 18px;
    color: var(--error-text);
    cursor: pointer;
  }
}

// ============================
// ICONS
// ============================

.icon {
  display: inline-block;
  width: 16px;
  height: 16px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}


/* Add these to the ICONS section of your styles.scss file */

.icon-light-mode, .icon-light {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>');
}

.icon-dark-mode, .icon-dark {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>');
}

.icon-save {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>');
}

.icon-download {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>');
}

.icon-share {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>');
}

/* Add these to your global styles.scss for sample diagram icons */

/* Diagram type icons */
.icon-diagram-tree {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12h-8a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2zM3 5h8a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2z"></path><path d="M9 12V7"></path><path d="M12 9H7"></path></svg>');
}

.icon-list-numbered {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 12H3"></path><path d="M16 6H3"></path><path d="M16 18H3"></path><path d="M21 12h-6"></path><path d="M21 6h-2"></path><path d="M21 18h-2"></path></svg>');
}

.icon-module {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>');
}

.icon-network {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"></circle><path d="M12 8v4"></path><path d="M12 16v4"></path><circle cx="5" cy="19" r="3"></circle><circle cx="19" cy="19" r="3"></circle><path d="M5 16v-3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v3"></path></svg>');
}

.icon-share {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>');
}

.icon-calendar {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>');
}

.icon-pie {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a10 10 0 0 1 10 10"></path><path d="M12 12l-6-6"></path></svg>');
}


// In src/styles.scss, append this within the ICONS section or at the end

.icon-format {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line></svg>');
}

.icon-clear {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18"></path><path d="M6 6l12 12"></path></svg>');
}

.icon-copy {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>');
}

.icon-wrap { // Icon for word wrap ON
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 18l4-4-4-4"></path><path d="M3 6h11a4 4 0 0 1 4 4v0a4 4 0 0 1-4 4H7"></path></svg>');
}

.icon-nowrap { // Icon for word wrap OFF
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>');
}

.icon-example { // Added missing example icon
  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"></path><polyline points=\"14 2 14 8 20 8\"></polyline><line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line><line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line><polyline points=\"10 9 9 9 8 9\"></polyline></svg>');
}

.icon-docs { // Added missing docs icon
   background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M4 19.5A2.5 2.5 0 0 1 6.5 17H20\"></path><path d=\"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z\"></path></svg>');
}

.icon-run { // Added missing run icon (for Update button)
  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"5 3 19 12 5 21 5 3\"></polygon></svg>');
}



// Define common icons used in the application
.icon-code {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>');
}

.icon-settings {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>');
}

.icon-zoom-in {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>');
}

.icon-zoom-out {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>');
}

.icon-reset {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg>');
}

.icon-grid {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>');
}

.icon-light {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>');
}

.icon-dark {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>');
}

.icon-link {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>');
}

.icon-note {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>');
}

// ============================
// MAIN LAYOUT STYLES
// ============================

.app-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

.editor-page {
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
}

.content-container {
  display: flex;
  flex: 1;
  overflow: hidden;

  &.with-history:not(.mobile) {
    .editor-panel, .diagram-panel {
      flex: 1;
    }

    .history-panel {
      flex: 0 0 25%;
      max-width: 350px;
    }
  }
}

.editor-panel, .diagram-panel {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.history-panel {
  border-left: 1px solid var(--border-color);
  overflow-y: auto;
  background-color: var(--secondary-bg);
}

// ============================
// WORKSPACE COMPONENT
// ============================

.workspace-container {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  padding: 8px;
  gap: 8px;
  width: 100%;
  height: calc(100vh - 64px); // Subtract toolbar height
  background: var(--primary-bg);
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  border-radius: var(--border-radius-lg);
  overflow: hidden;

  .desktop-workspace {
    display: flex;
    width: 100%;
    height: 100%;
  }

  .editor-panel {
    display: flex;
    flex-direction: column;
    padding: 16px;
    gap: 12px;
    width: 429px;
    background: var(--secondary-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg);
  }

  .resizer {
    width: 6px;
    background-color: var(--border-color);
    cursor: col-resize;
    transition: background-color 0.2s;

    &:hover, &.active {
      background-color: var(--text-secondary);
    }
  }

  .diagram-panel {
    flex: 1;
    background: var(--primary-bg);
    border-radius: var(--border-radius-lg);
  }

  .editor-tabs {
    display: flex;
    padding: 5px;
    background: var(--tertiary-bg);
    border-radius: var(--border-radius-md);

    button, .docs-link {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 6px 12px;
      gap: 10px;
      height: 32px;
      font-weight: 500;
      font-size: 14px;
      color: var(--text-secondary);
      text-decoration: none;
      background: transparent;
      border: none;

      .icon {
        width: 16px;
        height: 16px;
      }

      &.active {
        background: var(--primary-bg);
        color: var(--text-primary);
        box-shadow: var(--shadow-sm);
        border-radius: var(--border-radius-sm);
      }

      &:hover:not(.active) {
        background-color: rgba(0, 0, 0, 0.03);
      }
    }

    .docs-link {
      margin-left: auto;
      color: var(--text-tertiary);
    }
  }
}

// ============================
// EDITOR COMPONENT
// ============================

.editor-container {
  display: flex;
  flex-direction: column;
  height: 100%;

  .monaco-editor-container {
    flex: 1;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg);
    background: var(--primary-bg);
    overflow: hidden;
  }

  .action-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    margin-top: 12px;

    .button-group {
      display: flex;
      gap: 8px;
    }
  }

  .editor-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    color: var(--text-secondary);
    font-size: 12px;
    background-color: var(--tertiary-bg);
    border-radius: var(--border-radius-md);
  }
}

// ============================
// DIAGRAM COMPONENT
// ============================

.diagram-container {
  position: relative;
  width: 100%;
  height: 100%;
  background: var(--primary-bg);
  border-radius: var(--border-radius-lg);
  overflow: hidden;

  &.grid-bg {
    background-size: 30px 30px;
    background-image: radial-gradient(circle, rgba(0, 0, 0, 0.1) 1px, transparent 1px);
  }

  &.dark-mode {
    background-color: #1E293B;
    color: #F8FAFC;

    &.grid-bg {
      background-image: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    }

    .diagram-toolbar {
      background: #334155;

      button {
        &:hover {
          background: #475569;
        }

        .icon {
          color: #CBD5E1;
        }
      }
    }
  }

  .diagram-toolbar {
    position: absolute;
    top: 16px;
    right: 16px;
    display: flex;
    flex-direction: column;
    background: var(--primary-bg);
    box-shadow: var(--shadow-md);
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    z-index: 10;

    button {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;

      &:hover {
        background-color: var(--tertiary-bg);
      }

      .icon {
        width: 18px;
        height: 18px;
        color: var(--text-secondary);
      }
    }

    .divider {
      height: 1px;
      background-color: var(--border-color);
      margin: 4px 8px;
    }
  }

  .diagram-content {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;

    &.error {
      opacity: 0.5;
    }
  }

  .loading-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(255, 255, 255, 0.7);

    .loader {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 3px solid var(--tertiary-bg);
      border-top-color: var(--text-tertiary);
      animation: spin 1s linear infinite;
    }
  }
}

// ============================
// ANIMATIONS
// ============================

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

// ============================
// RESPONSIVE ADJUSTMENTS
// ============================

@media screen and (max-width: 768px) {
  .workspace-container {
    flex-direction: column;
    height: auto;
    min-height: 100vh;

    .desktop-workspace {
      flex-direction: column;
    }

    .editor-panel, .diagram-panel {
      width: 100%;
      height: 50vh;
    }

    .resizer {
      width: 100%;
      height: 6px;
      cursor: row-resize;
    }
  }

  .editor-container {
    .tab-container {
      flex-direction: column;

      .tabs {
        width: 100%;
        margin-bottom: 8px;
      }

      .actions {
        width: 100%;
        justify-content: space-between;
      }
    }
  }
}

// ============================
// ANGULAR MATERIAL OVERRIDES (Remove when migrating away)
// ============================

.mat-button-toggle-group {
  border: none !important;
  background: var(--tertiary-bg) !important;
  border-radius: var(--border-radius-md) !important;
  box-shadow: none !important;

  .mat-button-toggle {
    color: var(--text-secondary) !important;
    background: transparent !important;
    font-family: 'Inter', sans-serif !important;
    font-weight: 500 !important;

    &.mat-button-toggle-checked {
      background: var(--primary-bg) !important;
      color: var(--text-primary) !important;
      box-shadow: var(--shadow-sm) !important;
    }
  }
}

.mat-toolbar {
  background-color: var(--primary-bg) !important;
  color: var(--text-primary) !important;
  border-bottom: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  font-family: 'Inter', sans-serif !important;
}

.mat-icon-button {
  color: var(--text-tertiary) !important;
}

.mat-raised-button, .mat-flat-button {
  background-color: var(--action-primary) !important;
  color: var(--action-text) !important;
  font-family: 'Inter', sans-serif !important;
  font-weight: 500 !important;
  border-radius: var(--border-radius-md) !important;
}

.mat-menu-panel {
  border-radius: var(--border-radius-md) !important;

  .mat-menu-item {
    font-family: 'Inter', sans-serif !important;
    color: var(--text-primary) !important;
  }
}

.mat-form-field {
  font-family: 'Inter', sans-serif !important;

  .mat-form-field-flex {
    background: var(--primary-bg) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: var(--border-radius-md) !important;
  }

  .mat-form-field-underline {
    display: none !important;
  }

  .mat-form-field-label {
    color: var(--text-secondary) !important;
  }
}

.mat-dialog-container {
  border-radius: var(--border-radius-lg) !important;
  background-color: var(--primary-bg) !important;
  padding: 16px !important;
}

// ============================
// CUSTOM FORM CONTROLS
// ============================

/* Custom checkbox styling */
.checkbox-container {
  display: flex;
  align-items: center;
  position: relative;
  padding-left: 28px;
  cursor: pointer;
  user-select: none;

  input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
  }

  .checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 18px;
    width: 18px;
    background-color: var(--primary-bg, #FFFFFF);
    border: 1px solid var(--border-color, #E1E8F1);
    border-radius: var(--border-radius-sm, 4px);
  }

  &:hover input ~ .checkmark {
    background-color: var(--tertiary-bg, #F0F5F9);
  }

  input:checked ~ .checkmark {
    background-color: var(--action-primary, #0D172B);
    border-color: var(--action-primary, #0D172B);
  }

  .checkmark:after {
    content: "";
    position: absolute;
    display: none;
  }

  input:checked ~ .checkmark:after {
    display: block;
  }

  .checkmark:after {
    left: 6px;
    top: 2px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }
}

/* Custom range slider styling */
input[type="range"].range-slider {
  -webkit-appearance: none;
  appearance: none;  width: 100%;
  height: 6px;
  background: var(--border-color, #E1E8F1);
  border-radius: 3px;
  outline: none;

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--action-primary, #0D172B);
    cursor: pointer;
  }

  &::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--action-primary, #0D172B);
    cursor: pointer;
    border: none;
  }
}
